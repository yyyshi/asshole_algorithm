### 如果线程池满了，又有新的任务到达，此时如何处理？
* 如果任务可丢弃，可以根据需求场景提供自定义饱和策略，比如直接丢掉，或者从队列头部丢掉一个，或者根据自定义优先级移出一个
* 如果任务是不可丢弃的，那么只能是阻塞的队列，需要等待队列中的任务被消费后，有空闲位置之后，此任务被加入到队列
* 满了之后，提供额外的几个线程处理新来的任务，如果这几个线程也满了，就采用拒绝策略，其实是一种扩容策略
* 有界队列可以防止内存溢出，额外的预备队列可以根据资源场景进行动态的适应
* 对线程池扩容？

### 系统最多可以创建多少个线程？
* ulimit设置了系统允许的最大线程数，但是此值是可以修改的
* 进程中的所有线程都共享进程的地址空间，但是每个线程拥有自己的调用栈，所以创建一个线程的消耗资源就是调用栈的大小。一个线程调用栈的默认大小是10M，可以通过ulimit -s查看。32位操作系统用户空间的总内存为3G，所以一个系统大概可以创建300个线程。
